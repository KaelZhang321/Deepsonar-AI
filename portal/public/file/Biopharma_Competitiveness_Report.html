<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生物医药创新企业竞争力研究深度报告</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Chosen Palette: Modern Medical & Tech - Clean White/Slate backgrounds, primary Blue (#3b82f6), secondary Teal (#14b8a6), and accent Indigo (#6366f1) for a professional, trustworthy data feel. -->
    
    <!-- Application Structure Plan:
         1. Header: Report Title and global navigation (Tabs).
         2. Tab System: State-based navigation switching between 4 main views without page reload.
            - Overview (总览): High-level industry KPIs and text summary to set context.
            - Evaluation Model (评价模型): Interactive Radar chart explaining how competitiveness is defined.
            - Company Deep Dive (企业透视): Detailed view with dropdown selection to compare specific companies' R&D vs Revenue and Pipeline status.
            - Market Landscape (市场格局): Bubble chart showing therapeutic area saturation.
         3. Dynamic Content Area: JavaScript renders content based on active tab.
         4. Footer: Methodology note.
         
         Why this structure? It moves from the abstract (Industry) to the specific (Company) to the strategic (Market), mirroring a typical investor or analyst reading flow.
    -->

    <!-- Visualization & Content Choices:
         1. Industry Growth Trend -> Goal: Inform -> Mixed Bar/Line Chart -> Interaction: Tooltip -> Justification: Shows correlation between R&D spend and revenue growth over time.
         2. Competitiveness Radar -> Goal: Compare -> Radar Chart -> Interaction: Toggle datasets -> Justification: Best for multivariate comparison (R&D, Cash, Team, Pipeline).
         3. Company Metrics -> Goal: Detail -> Bar & Doughnut Charts -> Interaction: Dropdown selection updates charts -> Justification: Allows user to drill down into specific data without cluttering the screen.
         4. Therapeutic Landscape -> Goal: Relationships -> Bubble Chart -> Interaction: Hover for details -> Justification: Visualizes 3 dimensions (Number of drugs, Market size, Competition intensity) effectively.
         Confirming NO SVG graphics used. NO Mermaid JS used. 
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        /* Custom Chart Container Styles to meet strict constraints */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px; /* Constraint for larger screens */
            margin-left: auto;
            margin-right: auto;
            height: 400px; /* Base height */
            max-height: 500px;
        }

        @media (max-width: 768px) {
            .chart-container {
                height: 300px; /* Smaller height for mobile */
            }
        }

        /* Custom Scrollbar for text areas */
        .custom-scroll::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        .custom-scroll::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        .tab-btn.active {
            border-bottom: 2px solid #3b82f6;
            color: #3b82f6;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans leading-relaxed selection:bg-blue-100">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center">
            <div class="mb-4 md:mb-0">
                <h1 class="text-2xl font-bold text-slate-900 tracking-tight">生物医药创新企业竞争力研究</h1>
                <p class="text-sm text-slate-500">2024年度深度分析报告 | 数据来源：模拟研究数据库</p>
            </div>
            <nav class="flex space-x-6 overflow-x-auto w-full md:w-auto pb-2 md:pb-0 hide-scrollbar">
                <button onclick="app.switchTab('overview')" id="tab-overview" class="tab-btn active px-2 py-2 text-slate-600 hover:text-blue-600 transition-colors whitespace-nowrap">行业总览</button>
                <button onclick="app.switchTab('model')" id="tab-model" class="tab-btn px-2 py-2 text-slate-600 hover:text-blue-600 transition-colors whitespace-nowrap">评价模型</button>
                <button onclick="app.switchTab('companies')" id="tab-companies" class="tab-btn px-2 py-2 text-slate-600 hover:text-blue-600 transition-colors whitespace-nowrap">重点企业透视</button>
                <button onclick="app.switchTab('trends')" id="tab-trends" class="tab-btn px-2 py-2 text-slate-600 hover:text-blue-600 transition-colors whitespace-nowrap">趋势与洞察</button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main id="app-container" class="container mx-auto px-4 py-8 min-h-screen">
        <!-- Dynamic content will be injected here -->
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 py-8 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="mb-2">© 2024 生物医药产业研究院. 仅供演示用途.</p>
            <p class="text-xs">本应用基于模拟数据生成，旨在展示交互式报告结构。</p>
        </div>
    </footer>

    <!-- JavaScript Application Logic -->
    <script>
        // --- Data Store ---
        const reportData = {
            overview: {
                kpis: [
                    { label: "行业总市值 (万亿)", value: "3.5", change: "+12%", trend: "up" },
                    { label: "年度R&D投入 (亿)", value: "850", change: "+18%", trend: "up" },
                    { label: "IND获批数量", value: "1,240", change: "+8%", trend: "up" },
                    { label: "License-out交易额 (亿美元)", value: "45", change: "+150%", trend: "up" }
                ],
                summary: "2024年，中国生物医药行业进入'提质增效'的新阶段。随着资本市场的理性回归，企业的核心竞争力从单纯的管线数量转向差异化创新与全球化商业能力。本报告基于研发、商业化、资金及团队四个维度，构建了创新企业竞争力评价模型。",
                trendChartData: {
                    labels: ['2020', '2021', '2022', '2023', '2024(E)'],
                    revenue: [1200, 1450, 1600, 1850, 2100],
                    rdSpend: [300, 450, 580, 720, 850]
                }
            },
            model: {
                dimensions: ['研发创新力', '商业化能力', '资金健康度', '国际化水平', '团队执行力', '产品管线深度'],
                industryAverage: [65, 55, 60, 40, 70, 60],
                topTierAvg: [90, 85, 85, 75, 90, 85],
                description: "竞争力评价模型采用多维度加权评分法。其中，'研发创新力'权重最高(35%)，重点考察First-in-class资产占比；'商业化能力'(25%)关注销售团队效率与医保准入情况；'国际化水平'(15%)则评估海外临床进展及授权交易。"
            },
            companies: [
                {
                    id: 'c1',
                    name: '恒瑞医药 (Hengrui)',
                    type: '传统Pharma转型',
                    desc: '国内创新药龙头，拥有强大的销售网络与稳健的现金流。近年来加速向创新转型，肿瘤领域优势稳固，慢病领域布局广泛。',
                    financials: { revenue: 230, rd: 60, profit: 45 }, // units: billion RMB
                    pipeline: [15, 40, 25, 12] // Pre-clinical, Ph1, Ph2, Ph3+Marketed
                },
                {
                    id: 'c2',
                    name: '百济神州 (BeiGene)',
                    type: '全球化Biotech',
                    desc: '高举高打的全球化战略典范，BTK抑制剂在海外市场取得突破。研发投入巨大，亏损收窄，商业化能力快速验证中。',
                    financials: { revenue: 150, rd: 110, profit: -30 },
                    pipeline: [20, 35, 30, 15]
                },
                {
                    id: 'c3',
                    name: '信达生物 (Innovent)',
                    type: 'Biopharma',
                    desc: '以PD-1为基石，快速构建了代谢、自身免疫等多领域管线。商业化执行力极强，也是国内最早探索Biotech盈利模式的企业之一。',
                    financials: { revenue: 65, rd: 25, profit: -5 },
                    pipeline: [10, 20, 15, 8]
                },
                {
                    id: 'c4',
                    name: '康方生物 (Akeso)',
                    type: '双抗龙头',
                    desc: '在双特异性抗体领域具有显著的技术平台优势。依靠核心产品的优异临床数据，实现了大规模的海外授权交易。',
                    financials: { revenue: 45, rd: 15, profit: 10 },
                    pipeline: [8, 15, 10, 5]
                }
            ],
            trends: [
                {
                    title: "从 Fast-Follow 到 First-in-Class",
                    content: "过去五年，国内药企多采取跟随策略（Fast-Follow）以降低风险。随着靶点内卷严重（如PD-1/L1），竞争格局恶化，真正的源头创新（First-in-Class）成为资本和市场的核心评价指标。数据显示，2023年IND申请中，新靶点占比提升了15%。",
                    tag: "研发策略"
                },
                {
                    title: "出海：License-out 成为常态",
                    content: "受限于国内医保控费压力，'出海'成为必选项。不同于以往的单打独斗，通过License-out（对外授权）将权益转让给跨国药企（MNC）成为主流模式。2023年国产创新药License-out交易总额首次超过License-in，标志着中国创新药获得国际认可。",
                    tag: "商业化"
                },
                {
                    title: "资本寒冬下的现金流为王",
                    content: "二级市场估值回调倒逼一级市场理性定价。Biotech企业不再盲目扩张管线，而是通过砍掉非核心管线、出售工厂或授权交易来回笼资金。现金流储备能够支撑未来24个月运营成为企业生存的安全线。",
                    tag: "资本市场"
                }
            ],
            marketChart: [
                { x: 80, y: 90, r: 20, label: '肿瘤 (Oncology)' },
                { x: 60, y: 70, r: 15, label: '自身免疫 (Autoimmune)' },
                { x: 40, y: 85, r: 12, label: '代谢疾病 (Metabolic)' },
                { x: 30, y: 40, r: 10, label: '神经科学 (CNS)' },
                { x: 20, y: 30, r: 8, label: '感染 (Infectious)' },
                { x: 50, y: 20, r: 10, label: '心血管 (CV)' }
            ]
        };

        // --- Application State & Logic ---
        const app = {
            currentTab: 'overview',
            selectedCompanyId: 'c1',
            charts: {}, // Store chart instances to destroy them before re-rendering

            init: function() {
                this.render();
            },

            switchTab: function(tabId) {
                this.currentTab = tabId;
                
                // Update styling
                document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                document.getElementById(`tab-${tabId}`).classList.add('active');

                this.render();
            },

            selectCompany: function(id) {
                this.selectedCompanyId = id;
                this.renderCompanyContent(); // Re-render only the inner content part
            },

            render: function() {
                const container = document.getElementById('app-container');
                container.innerHTML = ''; // Clear current content

                // Destroy existing charts to prevent memory leaks and canvas errors
                Object.values(this.charts).forEach(chart => chart.destroy());
                this.charts = {};

                switch(this.currentTab) {
                    case 'overview':
                        this.renderOverview(container);
                        break;
                    case 'model':
                        this.renderModel(container);
                        break;
                    case 'companies':
                        this.renderCompanies(container);
                        break;
                    case 'trends':
                        this.renderTrends(container);
                        break;
                }
            },

            // --- View: Overview ---
            renderOverview: function(container) {
                // Intro Text
                const intro = document.createElement('div');
                intro.className = 'mb-8 animate-fade-in';
                intro.innerHTML = `
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <h2 class="text-xl font-bold text-slate-800 mb-3">行业运行宏观概览</h2>
                        <p class="text-slate-600">${reportData.overview.summary}</p>
                    </div>
                `;
                container.appendChild(intro);

                // KPI Grid
                const kpiGrid = document.createElement('div');
                kpiGrid.className = 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8';
                reportData.overview.kpis.forEach(kpi => {
                    kpiGrid.innerHTML += `
                        <div class="bg-white p-5 rounded-xl shadow-sm border-l-4 border-blue-500">
                            <div class="text-sm text-slate-500 mb-1">${kpi.label}</div>
                            <div class="flex items-end justify-between">
                                <span class="text-2xl font-bold text-slate-800">${kpi.value}</span>
                                <span class="text-sm font-medium ${kpi.trend === 'up' ? 'text-green-600' : 'text-red-600'} bg-green-50 px-2 py-1 rounded">
                                    ${kpi.change}
                                </span>
                            </div>
                        </div>
                    `;
                });
                container.appendChild(kpiGrid);

                // Chart Section
                const chartSection = document.createElement('div');
                chartSection.className = 'bg-white p-6 rounded-xl shadow-sm';
                chartSection.innerHTML = `
                    <h3 class="text-lg font-bold text-slate-800 mb-4">行业研发投入与收入增长趋势</h3>
                    <div class="chart-container">
                        <canvas id="overviewChart"></canvas>
                    </div>
                    <div class="mt-4 text-sm text-slate-500 text-center">图表：过去五年行业总体营收与研发费用变化趋势 (单位：亿元)</div>
                `;
                container.appendChild(chartSection);

                // Render Chart
                setTimeout(() => {
                    const ctx = document.getElementById('overviewChart').getContext('2d');
                    this.charts.overview = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: reportData.overview.trendChartData.labels,
                            datasets: [
                                {
                                    label: '行业总营收',
                                    data: reportData.overview.trendChartData.revenue,
                                    backgroundColor: 'rgba(59, 130, 246, 0.2)', // blue-500
                                    borderColor: 'rgba(59, 130, 246, 1)',
                                    borderWidth: 1,
                                    order: 2
                                },
                                {
                                    type: 'line',
                                    label: '研发总投入',
                                    data: reportData.overview.trendChartData.rdSpend,
                                    borderColor: 'rgba(20, 184, 166, 1)', // teal-500
                                    backgroundColor: 'rgba(20, 184, 166, 0.5)',
                                    borderWidth: 2,
                                    tension: 0.3,
                                    order: 1
                                }
                            ]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { position: 'top' }
                            },
                            scales: {
                                y: { beginAtZero: true, grid: { color: '#f1f5f9' } },
                                x: { grid: { display: false } }
                            }
                        }
                    });
                }, 0);
            },

            // --- View: Evaluation Model ---
            renderModel: function(container) {
                const layout = document.createElement('div');
                layout.className = 'grid grid-cols-1 lg:grid-cols-3 gap-8';
                
                // Left Col: Chart
                const leftCol = document.createElement('div');
                leftCol.className = 'lg:col-span-2 bg-white p-6 rounded-xl shadow-sm';
                leftCol.innerHTML = `
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-lg font-bold text-slate-800">企业竞争力六维评价模型</h3>
                        <span class="text-xs text-white bg-blue-600 px-2 py-1 rounded-full">核心方法论</span>
                    </div>
                    <div class="chart-container" style="max-height: 500px;">
                        <canvas id="radarChart"></canvas>
                    </div>
                `;

                // Right Col: Explanation
                const rightCol = document.createElement('div');
                rightCol.className = 'bg-white p-6 rounded-xl shadow-sm flex flex-col justify-center';
                rightCol.innerHTML = `
                    <h3 class="text-lg font-bold text-slate-800 mb-4">模型解析</h3>
                    <p class="text-slate-600 mb-6 leading-relaxed text-sm">
                        ${reportData.model.description}
                    </p>
                    <div class="space-y-4">
                        <div class="flex items-center">
                            <div class="w-3 h-3 bg-indigo-500 rounded-full mr-2"></div>
                            <span class="text-sm font-medium text-slate-700">Top Tier 企业 (标杆)</span>
                        </div>
                        <p class="text-xs text-slate-500 ml-5 mb-2">代表行业前5%的头部企业平均水平，各项指标均衡且突出。</p>
                        
                        <div class="flex items-center">
                            <div class="w-3 h-3 bg-slate-300 rounded-full mr-2"></div>
                            <span class="text-sm font-medium text-slate-700">行业平均 (基准)</span>
                        </div>
                        <p class="text-xs text-slate-500 ml-5">代表行业中位数水平，通常在资金和国际化方面存在短板。</p>
                    </div>
                    <div class="mt-8 p-4 bg-blue-50 rounded-lg border border-blue-100">
                        <h4 class="text-blue-800 font-bold text-sm mb-1">关键发现</h4>
                        <p class="text-blue-600 text-xs">头部企业与平均水平差距最大的维度是"国际化水平"与"资金健康度"，这表明资源正在向头部快速集中。</p>
                    </div>
                `;

                layout.appendChild(leftCol);
                layout.appendChild(rightCol);
                container.appendChild(layout);

                setTimeout(() => {
                    const ctx = document.getElementById('radarChart').getContext('2d');
                    this.charts.radar = new Chart(ctx, {
                        type: 'radar',
                        data: {
                            labels: reportData.model.dimensions,
                            datasets: [{
                                label: 'Top Tier 企业均值',
                                data: reportData.model.topTierAvg,
                                fill: true,
                                backgroundColor: 'rgba(99, 102, 241, 0.2)', // indigo
                                borderColor: 'rgb(99, 102, 241)',
                                pointBackgroundColor: 'rgb(99, 102, 241)',
                                pointBorderColor: '#fff',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: 'rgb(99, 102, 241)'
                            }, {
                                label: '行业平均水平',
                                data: reportData.model.industryAverage,
                                fill: true,
                                backgroundColor: 'rgba(148, 163, 184, 0.2)', // slate
                                borderColor: 'rgb(148, 163, 184)',
                                pointBackgroundColor: 'rgb(148, 163, 184)',
                                pointBorderColor: '#fff',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: 'rgb(148, 163, 184)'
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            elements: {
                                line: { borderWidth: 3 }
                            },
                            scales: {
                                r: {
                                    angleLines: { display: true },
                                    suggestedMin: 0,
                                    suggestedMax: 100,
                                    pointLabels: {
                                        font: { size: 12, family: "'Noto Sans SC', sans-serif" }
                                    }
                                }
                            }
                        }
                    });
                }, 0);
            },

            // --- View: Companies ---
            renderCompanies: function(container) {
                // Section Intro
                const intro = document.createElement('div');
                intro.className = 'mb-6';
                intro.innerHTML = `
                    <div class="bg-blue-50 border-l-4 border-blue-600 p-4 rounded-r-lg">
                        <h2 class="text-lg font-bold text-blue-900">重点企业透视</h2>
                        <p class="text-sm text-blue-700 mt-1">本部分选取了四家具有代表性的创新药企业，分析其财务结构与管线布局，展示不同商业模式下的竞争策略。</p>
                    </div>
                `;
                container.appendChild(intro);

                // Selector
                const selectorRow = document.createElement('div');
                selectorRow.className = 'flex items-center mb-6 bg-white p-4 rounded-xl shadow-sm';
                let optionsHtml = reportData.companies.map(c => 
                    `<option value="${c.id}" ${c.id === this.selectedCompanyId ? 'selected' : ''}>${c.name}</option>`
                ).join('');
                
                selectorRow.innerHTML = `
                    <label class="font-bold text-slate-700 mr-4">选择分析企业:</label>
                    <select id="companySelect" class="bg-slate-50 border border-slate-300 text-slate-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full md:w-1/3 p-2.5">
                        ${optionsHtml}
                    </select>
                `;
                container.appendChild(selectorRow);

                // Content Wrapper
                const contentWrapper = document.createElement('div');
                contentWrapper.id = 'company-content';
                container.appendChild(contentWrapper);

                // Event Listener for Select
                document.getElementById('companySelect').addEventListener('change', (e) => {
                    this.selectCompany(e.target.value);
                });

                this.renderCompanyContent();
            },

            renderCompanyContent: function() {
                const wrapper = document.getElementById('company-content');
                wrapper.innerHTML = ''; // clear previous

                const company = reportData.companies.find(c => c.id === this.selectedCompanyId);
                
                // Destroy company charts if exist
                if (this.charts.compFin) this.charts.compFin.destroy();
                if (this.charts.compPipe) this.charts.compPipe.destroy();

                const grid = document.createElement('div');
                grid.className = 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6';

                // Card 1: Info
                grid.innerHTML += `
                    <div class="bg-white p-6 rounded-xl shadow-sm lg:col-span-3 flex flex-col md:flex-row gap-6">
                        <div class="flex-1">
                            <h3 class="text-2xl font-bold text-slate-800 mb-2">${company.name}</h3>
                            <span class="bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-0.5 rounded border border-teal-400">${company.type}</span>
                            <p class="mt-4 text-slate-600 text-sm leading-relaxed">${company.desc}</p>
                        </div>
                        <div class="flex-1 grid grid-cols-3 gap-4 text-center border-t md:border-t-0 md:border-l border-slate-100 pt-4 md:pt-0 md:pl-4">
                            <div>
                                <div class="text-xs text-slate-400">营收 (亿)</div>
                                <div class="text-xl font-bold text-slate-800">${company.financials.revenue}</div>
                            </div>
                            <div>
                                <div class="text-xs text-slate-400">研发投入 (亿)</div>
                                <div class="text-xl font-bold text-blue-600">${company.financials.rd}</div>
                            </div>
                            <div>
                                <div class="text-xs text-slate-400">净利润 (亿)</div>
                                <div class="text-xl font-bold ${company.financials.profit >= 0 ? 'text-green-600' : 'text-red-500'}">${company.financials.profit}</div>
                            </div>
                        </div>
                    </div>
                `;

                // Card 2: Financial Structure Chart
                const chartCard1 = document.createElement('div');
                chartCard1.className = 'bg-white p-6 rounded-xl shadow-sm lg:col-span-2';
                chartCard1.innerHTML = `
                    <h4 class="font-bold text-slate-700 mb-4">财务结构对比</h4>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="compFinChart"></canvas>
                    </div>
                `;
                grid.appendChild(chartCard1);

                // Card 3: Pipeline Chart
                const chartCard2 = document.createElement('div');
                chartCard2.className = 'bg-white p-6 rounded-xl shadow-sm lg:col-span-1';
                chartCard2.innerHTML = `
                    <h4 class="font-bold text-slate-700 mb-4">研发管线阶段分布</h4>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="compPipeChart"></canvas>
                    </div>
                `;
                grid.appendChild(chartCard2);

                wrapper.appendChild(grid);

                // Render Charts
                setTimeout(() => {
                    // Bar Chart
                    const ctxFin = document.getElementById('compFinChart').getContext('2d');
                    this.charts.compFin = new Chart(ctxFin, {
                        type: 'bar',
                        data: {
                            labels: ['营业收入', '研发费用', '净利润'],
                            datasets: [{
                                label: '金额 (亿元)',
                                data: [company.financials.revenue, company.financials.rd, company.financials.profit],
                                backgroundColor: [
                                    'rgba(59, 130, 246, 0.7)',
                                    'rgba(20, 184, 166, 0.7)',
                                    company.financials.profit >= 0 ? 'rgba(34, 197, 94, 0.7)' : 'rgba(239, 68, 68, 0.7)'
                                ],
                                borderRadius: 6
                            }]
                        },
                        options: {
                            indexAxis: 'y',
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { display: false } },
                            scales: { x: { grid: { display: false } } }
                        }
                    });

                    // Doughnut Chart
                    const ctxPipe = document.getElementById('compPipeChart').getContext('2d');
                    this.charts.compPipe = new Chart(ctxPipe, {
                        type: 'doughnut',
                        data: {
                            labels: ['临床前', '一期临床', '二期临床', '三期及上市'],
                            datasets: [{
                                data: company.pipeline,
                                backgroundColor: [
                                    '#e2e8f0', // slate-200
                                    '#93c5fd', // blue-300
                                    '#3b82f6', // blue-500
                                    '#1e40af'  // blue-800
                                ],
                                borderWidth: 0
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { position: 'bottom', labels: { boxWidth: 10 } }
                            },
                            cutout: '60%'
                        }
                    });
                }, 0);
            },

            // --- View: Trends & Market ---
            renderTrends: function(container) {
                 // Intro
                 container.innerHTML += `
                    <div class="mb-8 text-center max-w-2xl mx-auto">
                        <h2 class="text-2xl font-bold text-slate-800 mb-2">行业趋势与研发热点</h2>
                        <p class="text-slate-500">从治疗领域竞争格局到宏观政策导向的全面洞察</p>
                    </div>
                `;

                const grid = document.createElement('div');
                grid.className = 'grid grid-cols-1 lg:grid-cols-2 gap-8';

                // Bubble Chart Section
                const bubbleSection = document.createElement('div');
                bubbleSection.className = 'bg-white p-6 rounded-xl shadow-sm border border-slate-100';
                bubbleSection.innerHTML = `
                    <h3 class="text-lg font-bold text-slate-800 mb-2">治疗领域竞争格局 (Bubble Map)</h3>
                    <p class="text-xs text-slate-500 mb-4">X轴: 竞争拥挤度 (企业数量) | Y轴: 市场潜力 (增长率) | 气泡大小: 现有管线规模</p>
                    <div class="chart-container">
                        <canvas id="marketChart"></canvas>
                    </div>
                    <div class="mt-4 p-3 bg-yellow-50 text-yellow-800 text-xs rounded">
                        <strong>分析：</strong> 肿瘤领域(Oncology)依然最为拥挤，虽然市场潜力大但竞争白热化；自身免疫(Autoimmune)与代谢(Metabolic)正成为新的增长极，竞争格局相对较好，是未来的"蓝海"。
                    </div>
                `;
                grid.appendChild(bubbleSection);

                // Insights List
                const insightsSection = document.createElement('div');
                insightsSection.className = 'flex flex-col gap-4';
                
                reportData.trends.forEach((trend, index) => {
                    insightsSection.innerHTML += `
                        <div class="bg-white p-5 rounded-xl shadow-sm hover:shadow-md transition-shadow border-l-4 ${index === 0 ? 'border-blue-500' : (index === 1 ? 'border-teal-500' : 'border-indigo-500')}">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-bold text-slate-800">${trend.title}</h4>
                                <span class="text-xs font-semibold px-2 py-1 bg-slate-100 text-slate-600 rounded">${trend.tag}</span>
                            </div>
                            <p class="text-sm text-slate-600 leading-relaxed">${trend.content}</p>
                        </div>
                    `;
                });
                grid.appendChild(insightsSection);

                container.appendChild(grid);

                // Render Bubble Chart
                setTimeout(() => {
                    const ctx = document.getElementById('marketChart').getContext('2d');
                    this.charts.market = new Chart(ctx, {
                        type: 'bubble',
                        data: {
                            datasets: reportData.marketChart.map((d, i) => ({
                                label: d.label,
                                data: [{x: d.x, y: d.y, r: d.r}],
                                backgroundColor: `hsla(${210 + (i * 30)}, 70%, 50%, 0.6)`,
                                borderColor: `hsla(${210 + (i * 30)}, 70%, 50%, 1)`
                            }))
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { position: 'right', labels: { boxWidth: 10 } },
                                tooltip: {
                                    callbacks: {
                                        label: function(context) {
                                            return `${context.dataset.label}: 拥挤度 ${context.raw.x}, 潜力 ${context.raw.y}`;
                                        }
                                    }
                                }
                            },
                            scales: {
                                x: {
                                    title: { display: true, text: '竞争拥挤度 (Low -> High)' },
                                    min: 0, max: 100
                                },
                                y: {
                                    title: { display: true, text: '市场潜力/增速 (Low -> High)' },
                                    min: 0, max: 100
                                }
                            }
                        }
                    });
                }, 0);
            }
        };

        // Initialize App
        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });

    </script>
</body>
</html>